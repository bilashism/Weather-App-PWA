"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js",{scope:"/weather-app-pwa/"}).then(()=>console.log("Service worker registered successfully!")).catch(e=>console.log("service worker not registered",e)),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".location"),t=document.querySelector(".temp"),o=document.querySelector(".unit"),n=document.querySelector(".summary"),r=(document.querySelector(".info"),document.querySelector(".search-form")),c=document.querySelector(".today"),a=document.querySelector(".tomorrow"),u=(document.querySelector(".location2"),document.querySelector(".temp2"),document.querySelector(".summary2"),[e,t,n,c,a]),i=[".location",".temp",".summary",".today",".tomorrow"],s='<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>',l=document.querySelector(".search_input");const d="https://cors-anywhere.herokuapp.com/";function m(r){fetch(`${d}${r}`).then(e=>e.json()).then(r=>{const u=`${d}https://api.darksky.net/forecast/2ae7d598568b7c56f3ae4e1be24d5def/${r.results[0].geometry.lat},${r.results[0].geometry.lng}?units=auto`;fetch(u).then(e=>e.json()).then(u=>{const{summary:s,temperature:l,icon:d}=u.currently;y(d,document.querySelector(".weather-icon"),"--icon-color"),e.textContent=r.results[0].formatted,n.textContent=s,t.textContent=`${l}`,o.textContent="°c",i.forEach(e=>{new f(e,Math.floor(10*Math.random()))}),function(){let{summary:e,icon:t,temperatureMax:o,temperatureMin:n}=u.daily.data[0];c.textContent=`${e}`,y(t,document.querySelector(".today-wrap .weather-icon"),"--indigo"),document.querySelector(".today-wrap .temp-min-max").textContent=`${parseInt(n)}° | ${parseInt(o)}°`}(),function(){let{summary:e,icon:t,temperatureMax:o,temperatureMin:n}=u.daily.data[1];a.textContent=`${e}`,y(t,document.querySelector(".tomorrow-wrap .weather-icon"),"--indigo"),document.querySelector(".tomorrow-wrap .temp-min-max").textContent=`${parseInt(n)}° | ${parseInt(o)}°`}(),function(){let{summary:e,icon:t}=u.daily;document.querySelector(".week-wrap .week").textContent=`${e}`,y(t,document.querySelector(".week-wrap .weather-icon"),"--indigo")}()}).catch(e=>console.log(e))}).catch(e=>console.log(e))}function y(e,t,o){const n=new Skycons({color:`${getComputedStyle(document.documentElement).getPropertyValue(o)}`}),r=e.replace(/-/g,"_").toUpperCase();return n.play(),n.set(t,Skycons[r])}r.addEventListener("submit",t=>{t.preventDefault();let o=l.value,n="https://api.opencagedata.com/geocode/v1/json?key=8631f37008af4afbbb6077f545b1b0be&q="+o+"&pretty=1&no_annotations=1";null!==o&&isNaN(o)&&(""===e.textContent?e.innerHTML=s:m(n)),u.forEach(e=>{e.textContent="",e.innerHTML=s})}),navigator.geolocation&&(navigator.geolocation.getCurrentPosition(t=>{let o=t.coords.latitude,n=t.coords.longitude,r="https://api.opencagedata.com/geocode/v1/json?key=8631f37008af4afbbb6077f545b1b0be&q="+encodeURIComponent(o+","+n)+"&pretty=1&no_annotations=1";""===e.textContent?e.innerHTML=s:m(r),m(r)}),u.forEach(e=>{e.textContent="",e.innerHTML=s}));const p=document.querySelector(".search-icon"),h=document.querySelector(".search_input"),g=document.querySelector(".tip");p.addEventListener("click",()=>{h.classList.add("extended"),h.focus(),g.classList.add("visible"),new f(".tip",Math.floor(10*Math.random()));let e=0,t="Enter your desired location";!function o(){e<t.length&&(msg=h.getAttribute("placeholder")+t.charAt(e),h.setAttribute("placeholder",msg),e++,setTimeout(o,100))}()},{once:!0});class f{constructor(e,t){let o,n,r=`${document.querySelector(e).textContent} `,c=0,a=this.speed||50;!function t(){if((n=r.slice(0,++c))===r)return;document.querySelector(e).textContent=n;let u=n.slice(-1);if("<"===u&&(o=!0),">"===u&&(o=!1),o)return t();setTimeout(t,a)}()}}!function e(){let t=new Date,o=t.getHours(),n=t.getMinutes(),r=t.getSeconds(),c="am";0==o&&(o=12),o>12&&(o-=12,c="pm"),o=o<10?"0"+o:o,n=n<10?"0"+n:n,r=r<10?"0"+r:r,document.querySelector(".clockNow").textContent=`${o}:${n}:${r}`,document.querySelector(".am-pm").textContent=`${c}`,setTimeout(e,1e3)}(),document.querySelector(".footer-year").textContent=`${(new Date).getFullYear()}`});