!function(){style=document.createElement("style"),style.type="text/css",style.innerText=".noScroll { position: fixed; overflow: hidden; }",document.querySelector("head").appendChild(style),document.body.classList.add("noScroll");let e=document.querySelector(".preloader");window.addEventListener("load",()=>{e.classList.add("loaded"),document.body.classList.remove("noScroll"),document.querySelector("head").removeChild(style),delete style})}(),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js",{scope:"/weather-app-pwa/"}).then(()=>console.log("service worker registered")).catch(e=>console.log("service worker not registered",e)),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".location"),t=document.querySelector(".temp"),o=document.querySelector(".unit"),n=document.querySelector(".summary"),r=(document.querySelector(".info"),document.querySelector(".search-form")),c=document.querySelector(".today"),a=document.querySelector(".tomorrow"),d=(document.querySelector(".location2"),document.querySelector(".temp2"),document.querySelector(".summary2"),[e,t,n,c,a]),l=[".location",".temp",".summary",".today",".tomorrow"],u='<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>',i=document.querySelector(".search_input");const s="2ae7d598568b7c56f3ae4e1be24d5def",m="https://cors-anywhere.herokuapp.com/";function y(r){fetch(`${m}${r}`).then(e=>e.json()).then(r=>{const d=`${m}https://api.darksky.net/forecast/${s}/${r.results[0].geometry.lat},${r.results[0].geometry.lng}?units=auto`;fetch(d).then(e=>e.json()).then(d=>{const{summary:u,temperature:i,icon:s}=d.currently;p(s,document.querySelector(".weather-icon"),"--icon-color"),e.textContent=r.results[0].formatted,n.textContent=u,t.textContent=`${i}`,o.textContent="°c",l.forEach(e=>{new g(e,Math.floor(10*Math.random()))}),function(){let{summary:e,icon:t,temperatureMax:o,temperatureMin:n}=d.daily.data[0];c.textContent=`${e}`,p(t,document.querySelector(".today-wrap .weather-icon"),"--indigo"),document.querySelector(".today-wrap .temp-min-max").textContent=`${parseInt(n)}° | ${parseInt(o)}°`}(),function(){let{summary:e,icon:t,temperatureMax:o,temperatureMin:n}=d.daily.data[1];a.textContent=`${e}`,p(t,document.querySelector(".tomorrow-wrap .weather-icon"),"--indigo"),document.querySelector(".tomorrow-wrap .temp-min-max").textContent=`${parseInt(n)}° | ${parseInt(o)}°`}(),function(){let{summary:e,icon:t}=d.daily;document.querySelector(".week-wrap .week").textContent=`${e}`,p(t,document.querySelector(".week-wrap .weather-icon"),"--indigo")}()}).catch(e=>console.log(e))}).catch(e=>console.log(e))}function p(e,t,o){const n=new Skycons({color:`${getComputedStyle(document.documentElement).getPropertyValue(o)}`}),r=e.replace(/-/g,"_").toUpperCase();return n.play(),n.set(t,Skycons[r])}r.addEventListener("submit",t=>{t.preventDefault();let o=i.value,n="https://api.opencagedata.com/geocode/v1/json?key=8631f37008af4afbbb6077f545b1b0be&q="+o+"&pretty=1&no_annotations=1";null!==o&&isNaN(o)&&(""===e.textContent?e.innerHTML=u:y(n)),d.forEach(e=>{e.textContent="",e.innerHTML=u})}),navigator.geolocation&&(navigator.geolocation.getCurrentPosition(t=>{let o=t.coords.latitude,n=t.coords.longitude,r="https://api.opencagedata.com/geocode/v1/json?key=8631f37008af4afbbb6077f545b1b0be&q="+encodeURIComponent(o+","+n)+"&pretty=1&no_annotations=1";""===e.textContent?e.innerHTML=u:y(r),y(r)}),d.forEach(e=>{e.textContent="",e.innerHTML=u}));const h=document.querySelector(".search-icon"),f=document.querySelector(".search_input"),S=document.querySelector(".tip");h.addEventListener("click",()=>{f.classList.add("extended"),f.focus(),S.classList.add("visible"),new g(".tip",Math.floor(10*Math.random()));let e=0,t="Enter your desired location";!function o(){e<t.length&&(msg=f.getAttribute("placeholder")+t.charAt(e),f.setAttribute("placeholder",msg),e++,setTimeout(o,100))}()},{once:!0});class g{constructor(e,t){let o,n,r=`${document.querySelector(e).textContent} `,c=0,a=this.speed||50;!function t(){if((n=r.slice(0,++c))===r)return;document.querySelector(e).textContent=n;let d=n.slice(-1);if("<"===d&&(o=!0),">"===d&&(o=!1),o)return t();setTimeout(t,a)}()}}!function e(){let t=new Date,o=t.getHours(),n=t.getMinutes(),r=t.getSeconds(),c="am";0==o&&(o=12),o>12&&(o-=12,c="pm"),o=o<10?"0"+o:o,n=n<10?"0"+n:n,r=r<10?"0"+r:r,document.querySelector(".clockNow").textContent=`${o}:${n}:${r}`,document.querySelector(".am-pm").textContent=`${c}`,setTimeout(e,1e3)}()});
